<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <!-- Viewport for mobile devices -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hallein App - Verwaltung</title>
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:300" rel="stylesheet">
    <!-- Icons -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!-- jQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
    <!-- AngularJS -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.7/angular.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.7/angular-route.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.7/angular-cookies.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.7/angular-resource.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.7/angular-sanitize.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ngDraggable/0.1.11/ngDraggable.min.js"></script>
    <script src="public/js/app.js"></script>
    <!-- Libraries -->
    <!-- Tooltipster -->
    <link rel="stylesheet" type="text/css" href="assets/plugins/tooltipster/dist/css/tooltipster.bundle.min.css"/>
    <script type="text/javascript" src="assets/plugins/tooltipster/dist/js/tooltipster.bundle.min.js"></script>
    <link rel="stylesheet" type="text/css" href="public/css/tooltipster.css"/>
    <!-- JSCookie -->
    <script src="assets/plugins/js-cookie/js.cookie.js"></script>
    <!-- Select2 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.3/js/select2.min.js"></script>
    <link rel="stylesheet" href="assets/plugins/select2/select2.css"/>
    <!-- animate-css -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css"/>
    <!-- Stylesheet -->
    <link rel="stylesheet" href="public/css/style.css" media="screen">
</head>
<body ng-app="myApp" ng-controller="mainController" ng-keydown="checkKey($event)">
<div>
    <!-- Notification -->
    <div class="globalNotification"></div>
    <!-- Login -->
    <div class="login" ng-if="!loggedIn" ng-class="{true:'logout'}[logout]" ng-controller="loginController">
        <h1>{{ route.title }}</h1>
        <div class="devs" ng-if="route.aboutUs"><a href="#">Die Entwickler</a>|<a href="#">Über</a></div>
        <div class="loginwrapper" ng-include="route.content"></div>
    </div>
</div>
<div class="wrapper slideUp" ng-class="{true:'finished'}[loggedIn]">
    <!-- Popup -->
    <div class="overlay" ng-class="{visible: popup, blocker: !loggedIn}" ng-click="popupClose()"></div>
    <div class="popup large" ng-if="popup" ng-class="{visible: popup}"><i class="material-icons close tooltipBottom"
                                                                          ng-click="popupClose()" title="Schließen">close</i>
        <h2>{{ popup.title }}</h2>
        <navigation>
            <ul>
                <li ng-repeat="link in popup.links" ng-click="popupLoad($index)"><i
                        class="material-icons">{{link.icon}}</i>{{ link.name }}
                </li>
            </ul>
        </navigation>
        <content ng-include="popup.content"></content>
    </div>
    <!-- Topbar -->
    <div class="topbar">
        <i class="material-icons burgericon">menu</i>
        <h1 class="headline">Verwaltungsdashboard</h1>
        <div class="user">
            <div class="loadingSpinner" ng-if="loading">
                <div class="loading"></div>
            </div>
            <div class="serverLost"></div>
            <div class="serverConnected">
                Verbindung wiederhergestellt
            </div>
            <span class="username">{{ username }}</span>
            <img src="assets/imgs/profile_default.png"/>
            <img class="icon" src="assets/icons/arrow_down.png"/>
        </div>
        <div class="options">
            <ul>
                <li ng-click="openSettings()">Einstellungen</li>
                <li id="logout" ng-click="logout()">Ausloggen</li>
            </ul>
        </div>
    </div>
    <!-- Navbar -->
    <div class="navbar">
        <ul>
            <a href="#{{ route.path }}" ng-repeat="route in routes">
                <li><i class="material-icons">{{route.icon}}</i>{{ route.name }}</li>
            </a>
        </ul>
        <div class="copyright">
            <i class="material-icons tooltipLight"
               title="Copyright {{ system.copyright }}">copyright</i>
            <i class="material-icons tooltipLight" title="Version {{ system.version }} ({{ system.versionName }})">lightbulb_outline</i>
        </div>
    </div>
    <!-- Container -->
    <div class="container">
        <div class="view" ng-if="!frame" ng-view></div>
    </div>
</div>
</div>
</body>
</html>